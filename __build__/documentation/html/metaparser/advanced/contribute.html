

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contribute in parsers build &mdash; Genie Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/asciinema-player.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/genie_ico.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/asciinema-player.js"></script>
        <script src="../../_static/tracker.js"></script>
        <script src="../../_static/embed_version.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Utility Class" href="util.html" />
    <link rel="prev" title="Advanced Usage" href="introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> pyATS Library: Genie
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../clean/index.html">pyATS Clean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Genie Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/index.html">Genie Solutions</a></li>
</ul>
<p class="caption"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../abstract/index.html">Library Abstraction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Metaparsers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#example">Example</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Advanced</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="introduction.html">Advanced Usage</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Contribute in parsers build</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#parser-file-hierarchy">Parser file hierarchy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parser-file-naming-convention-guidelines">Parser file naming convention guidelines:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parser-development-review-criteria">Parser development review criteria</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="util.html">Utility Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="schemaengine.html">Schema Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="traceabledictionary.html">Traceable Dictionary</a></li>
<li class="toctree-l3"><a class="reference internal" href="detailedexample.html">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="template.html">Template Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../apidoc/index.html">API Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyATS Library: Genie</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Metaparsers</a> &raquo;</li>
        
          <li><a href="index.html">Advanced</a> &raquo;</li>
        
      <li>Contribute in parsers build</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contribute-in-parsers-build">
<span id="contribute-to-parser-build"></span><h1>Contribute in parsers build<a class="headerlink" href="#contribute-in-parsers-build" title="Permalink to this headline">¶</a></h1>
<p>To contribute in the parsers build, you need to activate the developer mode. You
will need to follow the below steps in order to do so.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>pip uninstall genie.libs.parser
git clone parser module (GitHub/BitBucket)
cd $VIRTUALENV/pypi/genieparser/
make package

# Now you build your parser under the corresponding OS as per the hierarchy
# below.

# Done with the developer mode and already committed your parser?
cd $VIRTUALENV/pypi/genieparser/
make undevelop

# Install parser module as a user again
pip install genie.libs.parser
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no manadate to switch back to user mode, if you would like to remain
in developer mode, it’s fine. Just make sure you won’t accidently push a code
breakage to the official branch.</p>
</div>
<div class="section" id="parser-file-hierarchy">
<h2>Parser file hierarchy<a class="headerlink" href="#parser-file-hierarchy" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span> parser
  |-- __init__.py
  |-- iosxe
  |   `-- __init__.py
  |-- iosxr
  |   `-- __init__.py
  |-- nxos
  |   |-- __init__.py
  |   `-- show_version.py
  `-- template
      `-- template.py

 where the top level is broken down further into OS-specific directories,
 and optionally, have a template directory for demonstrating other developers
 what to do.

/parser
    The parser file system root.The parser file categories have been
    organized based on OS/platform types.

/parser/__init__.py
    Place to declare the abstraction-enabled package.

/parser/nxos
    NXOS platform-specific parsers.

/parser/nxos/__init__.py
    Place to declare the abstraction token (nxos) in the abstraction-enabled
    package.

/parser/nxos/show_version.py
    As an example, show_version.py aims to guide developers on writing their
    first parsers.

/parser/iosxe
    IOSXE platform-specific parsers. This directory holds all iosxe
    parser files.

/parser/iosxe/__init__.py
    Place to declare the abstraction token (iosxe) in the abstraction-enabled
    package.

/parser/iosxr
    IOSXR platform-specific parsers. This directory holds all iosxr
    parser files.

/parser/iosxr/__init__.py
    Place to declare the abstraction token (iosxr) in the abstraction-enabled
    package.

/parser/template
    Parser template folder - all template files can be found inside of
    this directory.

/parser/template/template.py
    Parser template file - the template doc defines the common
    format/structure/guidelines which helps to guide developers to
    complete their parser development.
</pre></div>
</div>
</div>
<div class="section" id="parser-file-naming-convention-guidelines">
<h2>Parser file naming convention guidelines:<a class="headerlink" href="#parser-file-naming-convention-guidelines" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p><strong>Recommendation #1:</strong> Parser file contains at least one parser class which
includes actual parsing mechanisms (cli, xml, yang) implementation.
All relevant parser classes (name with same starting words) should be
sit in the same file. For instance, parser class ShowXxx, ShowXxxYyy,
and ShowXxxYyyZzz should be implemented in file: show_xxx.py.</p>
<p><strong>Recommendation #2:</strong> Parser module (parser file) name should be the first
two words of the corresponding cli command or equivalent.
For example: show_interface.py. If the first two words contain strong
ambiguity (e.g.: show ip), extend the next word (e.g.: show_ip_ospf.py) to
clarify the parser purpose.</p>
<p><strong>Recommendation #3:</strong> Each parser class within the parser module must
inherit from <code class="docutils literal notranslate"><span class="pre">MetaParser</span></code> class. We strongly recommend to name the class
using the full cli command or equivalent to represent the actual parser
(e.g.: ShowIpOspfInterface).</p>
<p><strong>Recommendation #4:</strong> For variable phrases within the parser class name
(e.g.: show interface Eth3/4), use _WORD_ to present the phrase
(e.g.: ShowInterface_WORD_).</p>
</div></blockquote>
</div>
<div class="section" id="parser-development-review-criteria">
<h2>Parser development review criteria<a class="headerlink" href="#parser-development-review-criteria" title="Permalink to this headline">¶</a></h2>
<p>It is expected that all parser code get reviewed by developers’ local team
before submitting to official <code class="docutils literal notranslate"><span class="pre">Cisco-shared</span></code> in order to reduce overall
traffic &amp; comments.</p>
<p>Developer is expected to raise a pull request on
<a class="reference external" href="http://bitbucket-eng-sjc1.cisco.com/bitbucket/projects/PYATS-PYPI/repos/genieparser/pull-requests?create">code review</a> so Genie developers review before
committing to the community parser repository.</p>
<p>Submit the parser source code (new code, new folder, fixing, enhancement, etc),
diff using <code class="docutils literal notranslate"><span class="pre">diff</span> <span class="pre">-u</span> <span class="pre">20</span></code>  as part of the pull request.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is strongly recommended to submit unit tests associated with the parser
implementation.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="util.html" class="btn btn-neutral float-right" title="Utility Class" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral float-left" title="Advanced Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Cisco Systems Inc.
      <span class="lastupdated">
        Last updated on Dec 22, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>