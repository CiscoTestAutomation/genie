

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RobotFramework Guide &mdash; Genie Documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/asciinema-player.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/genie_ico.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script src="../../_static/asciinema-player.js"></script>
        <script src="../../_static/tracker.js"></script>
        <script src="../../_static/embed_version.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GenieTelemetry Guide" href="../genietelemetry/integration.html" />
    <link rel="prev" title="Subsections" href="../harness/developer/subsections.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> pyATS Library: Genie
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Conf/index.html">Conf Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Ops/index.html">Ops Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../harness/index.html">Harness Guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">RobotFramework Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keywords">Keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-profiling">System Profiling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../genietelemetry/integration.html">GenieTelemetry Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/index.html">API Guidelines and good practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html">Useful Libraries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../clean/index.html">pyATS Clean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli/index.html">Genie Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/index.html">Genie Solutions</a></li>
</ul>
<p class="caption"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../abstract/index.html">Library Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../metaparser/index.html">Metaparsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog/index.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pyATS Library: Genie</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">User Guide</a> &raquo;</li>
        
      <li>RobotFramework Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="robotframework-guide">
<span id="robot-genie"></span><h1>RobotFramework Guide<a class="headerlink" href="#robotframework-guide" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="sidebar-title">Quick References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://robotframework.org/">RobotFramework</a></p></li>
<li><p><a class="reference external" href="../robot.html">Genie Keywords</a></p></li>
<li><p><a class="reference external" href="../robot_api.html">API Function Keywords</a></p></li>
</ul>
</div>
<p>Robot Framework is generic Python/Java test automation framework that focuses
on acceptance test automation by through English-like keyword-driven test
approach.</p>
<p>Robot Framework support has been added through the optional <code class="docutils literal notranslate"><span class="pre">robot</span></code>
sub-package under <code class="xref py py-obj docutils literal notranslate"><span class="pre">Genie.libs</span></code> namespace. This enables RobotFramework
users to leverage key aspects of Genie without having to reinvent the wheel.
Robot Framework libraries have also been added for <a class="reference external" href="http://wwwin-pyats.cisco.com/documentation/latest/robot/index.html">pyATS</a>
and Unicon.</p>
<p><a class="reference external" href="../robot.html">Genie keywords</a></p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Robot Framework support is an optional component under Genie. To use it, you
must install this package explicitly:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install --upgrade genie.libs.robot
</pre></div>
</div>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>run Genie <a class="reference external" href="http://wwwin-pyats.cisco.com/cisco-shared/genie/latest/genie_libs/#/triggers">Triggers</a> and converting results to Robot</p></li>
<li><p>run Genie <a class="reference external" href="http://wwwin-pyats.cisco.com/cisco-shared/genie/latest/genie_libs/#/verifications">Verifications</a> and converting results to Robot</p></li>
<li><p>Execute Genie Ops object to learn about a feature</p></li>
<li><p>Metaparser support (Can re-use any existing <a class="reference external" href="http://bitbucket-eng-sjc1.cisco.com/bitbucket/projects/PYATS-PYPI/repos/genieparser/browse">parser</a>)</p></li>
<li><dl class="simple">
<dt>Custom verify functions, such as:</dt><dd><ul>
<li><p>Verify x amount of bgp routes on a device</p></li>
<li><p>Verify x amount of up interfaces on a device</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>Genie Device API support, all <a class="reference external" href="http://wwwin-pyats.cisco.com/cisco-shared/genie/latest/genie_libs/#/apis">API functions</a> can be used as a keyword, simply replace the ‘_’ to a space and put it in your .robot file with the arguments. Make sure to import <code class="xref py py-obj docutils literal notranslate"><span class="pre">genie.libs.robot.GenieRobotApis</span></code> as a library.</p></li>
<li><p><a class="reference internal" href="../utils/index.html#utils-overview"><span class="std std-ref">Dq support</span></a></p></li>
</ul>
<p><strong>Example of calling device APIs with robot</strong></p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span>*** Settings ***
# Importing test libraries, resource files and variable files.
Library        ats.robot.pyATSRobot
Library        genie.libs.robot.GenieRobot
Library        genie.libs.robot.GenieRobotApis

${testbed}    testbeds/my_tb.yaml

*** Test Cases ***

Initialize
        # Initializes the pyATS/Genie Testbed
        use genie testbed &quot;${testbed}&quot;

        # Connect to both device
        connect to device &quot;PE1&quot; via &quot;cli&quot;

test
        shut interface                          Loopback0       device=PE1
        verify interface config shutdown        Loopback        device=PE1
        unshut interface                        Loopback0       device=PE1
        verify interface config no shutdown     Loopback0       device=PE1
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Genie Robot librairies is open sourced under <code class="xref py py-obj docutils literal notranslate"><span class="pre">genie.libs</span></code>, it can be
enhanced to add additional keywords.</p>
</div>
</div>
<div class="section" id="keywords">
<h2>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h2>
<p>For the complete set of keywords supported by this package, refer to
<a class="reference external" href="../robot.html">Genie Keywords</a>.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c"># Example</span>
<span class="c"># -------</span>
<span class="c">#</span>
<span class="c">#   Demonstration of Genie Robot Framework Keywords</span>

<span class="gh">** Settings ***</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">ats.robot.pyATSRobot</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">genie.libs.robot.GenieRobot</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">unicon.robot.UniconRobot</span><span class="p"></span>

<span class="gh">*** Variables ***</span><span class="p"></span>
<span class="c"># Defining variables that can be used elsewhere in the test data.</span>
<span class="c"># Can also be driven as dash argument at runtime</span>
<span class="p">${</span><span class="nv">testbed</span><span class="p">}     </span><span class="s">tb.yaml</span><span class="p"></span>

<span class="gh">*** Test Cases ***</span><span class="p"></span>
<span class="c"># Creating test cases from available keywords.</span>

<span class="gu">Connect</span><span class="p"></span>
<span class="p">    </span><span class="nf">use genie testbed &quot;</span><span class="p">${</span><span class="nv">testbed</span><span class="p">}</span><span class="nf">&quot;</span><span class="p"></span>
<span class="p">    </span><span class="nf">connect to devices &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">parser show version</span><span class="p"></span>
<span class="p">    ${</span><span class="nv">output</span><span class="p">}=    </span><span class="nf">parse &quot;show module&quot; on device &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">Verify version</span><span class="p"></span>
<span class="p">    </span><span class="nf">dq query</span><span class="p">    </span><span class="s">data=</span><span class="p">${</span><span class="nv">output</span><span class="p">}   </span><span class="s">filters=contains(&#39;lc&#39;).not_contains(&#39;2&#39;).get_values(&#39;slot/world_wide_name&#39;)</span><span class="p"></span>


<span class="gu">Learn bgp</span><span class="p"></span>
<span class="p">    ${</span><span class="nv">output</span><span class="p">}=    </span><span class="nf">learn &quot;bgp&quot; on device &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">verify Bgp before trigger</span><span class="p"></span>
<span class="p">    </span><span class="nf">run verification &quot;Verify_BgpAllNexthopDatabase&quot; on device &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">Trigger sleep</span><span class="p"></span>
<span class="p">    </span><span class="nf">run trigger &quot;TriggerSleep&quot; on device &quot;N95_1&quot; using alias &quot;cli&quot;</span><span class="p"></span>

<span class="gu">verify Bgp after trigger</span><span class="p"></span>
<span class="p">    </span><span class="nf">run verification &quot;Verify_BgpAllNexthopDatabase&quot; on device &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">verify bgp count</span><span class="p"></span>
<span class="p">    </span><span class="nf">verify count &quot;6&quot; &quot;bgp neighbors&quot; on device &quot;N95_1&quot;</span><span class="p"></span>

<span class="gu">verify bgp routes</span><span class="p"></span>
<span class="p">    </span><span class="nf">verify count &quot;100&quot; &quot;bgp routes&quot; on device &quot;N95_1&quot;</span><span class="p"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Different location for <code class="xref py py-obj docutils literal notranslate"><span class="pre">trigger_datafile</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">verification_datafile</span></code> can
be provided within the Variables section. By default it uses these ones:</p>
<p><code class="docutils literal notranslate"><span class="pre">${trigger_datafile}</span>&#160;&#160;&#160;&#160; <span class="pre">${VIRTUAL_ENV}/genie_yamls/nxos/trigger_datafile_nxos.yaml</span></code>
<code class="docutils literal notranslate"><span class="pre">${verification_datafile}</span>&#160;&#160;&#160;&#160; <span class="pre">${VIRTUAL_ENV}/geine_yamls/nxos/verification_datafile_nxos.yaml</span></code></p>
</div>
</div>
<div class="section" id="system-profiling">
<h2>System Profiling<a class="headerlink" href="#system-profiling" title="Permalink to this headline">¶</a></h2>
<p>Robot user can now verify the testbed unchanged state by profiling the system at
different stages during the run and using those profiles as reference points at
later stages or even in other runs.</p>
<p>When the user profile the system and uses the option to store the profile on a
mount, actually two files get created at the run directory. One is json file
showing the full structure of the learnt features and the other is a pickled
version which can be used later for comparison as shown in details in the below
example.</p>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c"># Example</span>
<span class="c"># -------</span>
<span class="c">#</span>
<span class="c">#   Demonstration of Genie Robot Framework Keywords with System Profiling</span>

<span class="gh">** Settings ***</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">ats.robot.pyATSRobot</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">genie.libs.robot.GenieRobot</span><span class="p"></span>
<span class="kn">Library</span><span class="p">        </span><span class="nn">unicon.robot.UniconRobot</span><span class="p"></span>

<span class="gh">*** Variables ***</span><span class="p"></span>
<span class="c"># Defining variables that can be used elsewhere in the test data.</span>
<span class="c"># Can also be driven as dash argument at runtime</span>

<span class="p">${</span><span class="nv">testbed</span><span class="p">}     </span><span class="s">tb.yaml</span><span class="p"></span>
<span class="p">${</span><span class="nv">PTS</span><span class="p">}         </span><span class="s">/path/file</span><span class="p"></span>

<span class="gh">*** Test Cases ***</span><span class="p"></span>
<span class="c"># Creating test cases from available keywords.</span>

<span class="gu">Connect</span><span class="p"></span>
<span class="p">    </span><span class="nf">use genie testbed &quot;</span><span class="p">${</span><span class="nv">testbed</span><span class="p">}</span><span class="nf">&quot;</span><span class="p"></span>
<span class="p">    </span><span class="nf">connect to devices &quot;R1&quot;</span><span class="p"></span>

<span class="c"># Profile bgp&amp;ospf features and save the profile system on a mount</span>
<span class="gu">Profile bgp &amp; ospf on All</span><span class="p"></span>
<span class="p">    </span><span class="nf">Profile the system for &quot;bgp;ospf&quot; on devices &quot;R1;R2&quot; as &quot;/path/file&quot;</span><span class="p"></span>

<span class="gu">Profile bgp &amp; ospf on uut only</span><span class="p"></span>
<span class="p">    </span><span class="nf">Profile the system for &quot;bgp;ospf&quot; on devices &quot;R1;R2&quot; as &quot;/path/file&quot; using alias &quot;uut&quot;</span><span class="p"></span>

<span class="c"># Profile bgp&amp;ospf features and compare to the previously stored profile</span>
<span class="gu">Profile bgp &amp; ospf on All and Compare to PTS</span><span class="p"></span>
<span class="p">    </span><span class="nf">Profile the system for &quot;bgp;ospf&quot; on devices &quot;R1;R2&quot; as &quot;current&quot;</span><span class="p"></span>
<span class="p">    </span><span class="nf">Compare profile &quot;</span><span class="p">${</span><span class="nv">PTS</span><span class="p">}</span><span class="nf">&quot; with &quot;current&quot; on devices &quot;R1;R2&quot;</span><span class="p"></span>

<span class="gu">Profile bgp &amp; ospf on All and Compare to another profile &quot;later&quot;</span><span class="p"></span>
<span class="p">    </span><span class="nf">Profile the system for &quot;bgp;ospf&quot; on devices &quot;R1;R2&quot; as &quot;current&quot;</span><span class="p"></span>

<span class="gu">Run any testcase</span><span class="p"></span>
<span class="p">    </span><span class="nf">&lt;Do some action&gt;</span><span class="p"></span>

<span class="c"># Profile bgp&amp;ospf features and compare to the previously stored profile &quot;current&quot;</span>
<span class="gu">Profile bgp &amp; ospf on All and Compare to another profile</span><span class="p"></span>
<span class="p">    </span><span class="nf">Profile the system for &quot;bgp;ospf&quot; on devices &quot;R1;R2&quot; as &quot;later&quot;</span><span class="p"></span>
<span class="p">    </span><span class="nf">Compare profile &quot;later&quot; with &quot;current&quot; on devices &quot;R1;R2&quot;</span><span class="p"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Different location for <code class="xref py py-obj docutils literal notranslate"><span class="pre">pts_datafile</span></code> can be provided within the Variables
section. By default it uses these ones:</p>
<p><code class="docutils literal notranslate"><span class="pre">${datafile}</span>&#160;&#160;&#160; <span class="pre">${VIRTUAL_ENV}/genie_yamls/pts_datafile.yaml</span></code></p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Multiple snapshots can be saved within the same run and then compared.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Device configuration can also be snapshotted by adding the name config.</p>
</div>
<div class="highlight-robotframework notranslate"><div class="highlight"><pre><span></span><span class="c">Profile the system for &quot;bgp;ospf;config&quot; on devices &quot;R1;R2&quot; as &quot;later&quot;</span><span class="p"></span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../genietelemetry/integration.html" class="btn btn-neutral float-right" title="GenieTelemetry Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../harness/developer/subsections.html" class="btn btn-neutral float-left" title="Subsections" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Cisco Systems Inc.
      <span class="lastupdated">
        Last updated on Dec 22, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>