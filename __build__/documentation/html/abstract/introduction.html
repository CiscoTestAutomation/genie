

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; Genie Documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/asciinema-player.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/genie_ico.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/asciinema-player.js"></script>
        <script src="../_static/tracker.js"></script>
        <script src="../_static/embed_version.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Concept" href="concept.html" />
    <link rel="prev" title="Library Abstraction" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> pyATS Library: Genie
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbooks/index.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clean/index.html">pyATS Clean</a></li>
<li class="toctree-l1"><a class="reference internal" href="../health/index.html">pyATS Health Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Genie Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solutions/index.html">Genie Solutions</a></li>
</ul>
<p class="caption"><span class="caption-text">Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/apis">Available APIs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/clean">Available Clean Stages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/models">Available Models (Conf/Ops)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/parsers">Available Parsers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/triggers">Available Triggers</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pubhub.devnetcloud.com/media/genie-feature-browser/docs/#/verifications">Available Verifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Docs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Library Abstraction</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#our-solution">Our Solution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="concept.html">Concept</a></li>
<li class="toctree-l2"><a class="reference internal" href="lookup_class.html">Lookup Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="lookup_decorator.html">Lookup Decorator</a></li>
<li class="toctree-l2"><a class="reference internal" href="lookup_decorator.html#lookup-from-device-decorator">Lookup From Device Decorator</a></li>
<li class="toctree-l2"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="apidoc.html">API Docs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../metaparser/index.html">Metaparsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsergen/index.html">CLI Auto-Parser</a></li>
<li class="toctree-l1"><a class="reference internal" href="../predcore/index.html">Predicates</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/index.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelog</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyATS Library: Genie</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Library Abstraction</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>In software engineering and computer science, <strong>abstraction</strong> is a technique for
managing complexity of computer systems. It works by establishing a level of
complexity on which a person interacts with the system, suppressing the more
complex details below the current level. The programmer works with an
idealized interface (usually well defined) and can add additional levels of
functionality that would otherwise be too complex to handle. (<a class="reference external" href="http://en.wikipedia.org/wiki/Abstraction_(software_engineering)">Wikipedia</a>)</p>
<p>As Python is a <a class="reference external" href="http://en.wikipedia.org/wiki/Type_system#Dynamic_type_checking_and_runtime_type_information">dynamically typed</a>,
<a class="reference external" href="http://en.wikipedia.org/wiki/Object-oriented_programming">object-oriented</a> programming language, function/code
and data abstraction can be achieved easily through
<a class="reference external" href="http://en.wikipedia.org/wiki/Duck_typing">duck typing</a> and <a class="reference external" href="http://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)">inheritance</a>:
defining classes/objects that behaves similarly in a given context, and hiding
details of implementation under its methods and properties.</p>
<blockquote>
<div><p><em>If it flies like a duck &amp; quacks like a duck, it’s a duck!</em></p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   duck typing and inheritance</span>

<span class="k">class</span> <span class="nc">Mallard</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

<span class="k">class</span> <span class="nc">Duck</span><span class="p">(</span><span class="n">Mallard</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Quack, quack!&quot;</span><span class="p">);</span>

    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Flap, Flap!&quot;</span><span class="p">);</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">Mallard</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">quack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m Quackin&#39;!&quot;</span><span class="p">);</span>

    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m Flyin&#39;!&quot;</span><span class="p">);</span>

<span class="k">for</span> <span class="n">mallard</span> <span class="ow">in</span> <span class="p">[</span><span class="n">Duck</span><span class="p">(),</span> <span class="n">Person</span><span class="p">()]:</span>
    <span class="n">mallard</span><span class="o">.</span><span class="n">fly</span><span class="p">()</span>
    <span class="n">mallard</span><span class="o">.</span><span class="n">quack</span><span class="p">()</span>
</pre></div>
</div>
<p>The above stipulates how classes can be defined to behave similarly (eg, through
similar interfaces and subclassing). However, it doesn’t solve how the system
should pick the <em>correct class</em> during runtime. Often times, additional logic is
required to sort out which appropriate class should be used, based on given
information.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   try and pick the class by breed</span>

<span class="k">if</span> <span class="n">breed</span> <span class="o">==</span> <span class="s2">&quot;human&quot;</span><span class="p">:</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">Person</span>
<span class="k">else</span><span class="p">:</span>
    <span class="bp">cls</span> <span class="o">=</span> <span class="n">Duck</span>

<span class="n">mallard</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>

<span class="c1"># ... etc</span>
</pre></div>
</div>
<p>Eventually, this logic leads us to factory methods.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   factory method creating various shapes</span>

<span class="k">class</span> <span class="nc">Shape</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">types</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">class</span> <span class="nc">Circle</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Circle.draw&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">erase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Circle.erase&quot;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Square</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Square.draw&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">erase</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Square.erase&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">factory</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;I&#39;m the factory method!&#39;&#39;&#39;</span>

    <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;Circle&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">Circle</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">type</span> <span class="o">==</span> <span class="s2">&quot;Square&quot;</span><span class="p">:</span> <span class="k">return</span> <span class="n">Square</span><span class="p">()</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Bad shape creation: &quot;</span> <span class="o">+</span> <span class="nb">type</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>Factory Method</dt><dd><p>a creational pattern that uses factory methods to deal with the problem
of creating objects without having to specify the exact class of the
object that will be created.</p>
</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">:FactoryMethods:`Factory Methods &lt;http&gt;`</span></a> allowers users to create classes using “requirements” as
inputs, returning the corresponding class objects. The main challenge with this
approach is <strong>its dependency on the creator</strong>: factory methods are only as
powerful as its creator’s coding. Adding support for more requirements and/or
classes requires modification to the original code. Further, as each person may
choose to implement their own set of logic and requirements… the similarity,
traceability and debuggability of factory methods across the board may be poor.</p>
<div class="section" id="our-solution">
<h2>Our Solution<a class="headerlink" href="#our-solution" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">abstract</span></code> package is intended solve the above issue by <strong>standardizing the
abstraction decision making process</strong>. Through the use of abstraction tokens &amp;
lookup algorithms, the package empowers users to write agnostic libraries and
scripts capable of handling a variety of differences between
os/platform/feature/release/mgmt interface, etc.</p>
<div class="figure align-center" id="id3">
<img alt="../_images/abstract.png" src="../_images/abstract.png" />
<p class="caption"><span class="caption-text">Abstraction Concept</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example</span>
<span class="c1"># -------</span>
<span class="c1">#</span>
<span class="c1">#   with and without abstraction</span>

<span class="c1"># typical non-abstracted script</span>
<span class="c1"># -----------------------------</span>
<span class="c1"># import the proper function through if statements</span>
<span class="k">if</span> <span class="n">release</span> <span class="o">==</span> <span class="s1">&#39;v2.1&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">context</span> <span class="o">==</span> <span class="s1">&#39;YANG&#39;</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.v2_1.yang</span> <span class="kn">import</span> <span class="n">configure_something</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.v2_1.cli</span> <span class="kn">import</span> <span class="n">configure_something</span>
<span class="k">elif</span> <span class="n">release</span> <span class="o">==</span> <span class="s1">&#39;v2.2&#39;</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">context</span> <span class="o">==</span> <span class="s1">&#39;YANG&#39;</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.v2_2.yang</span> <span class="kn">import</span> <span class="n">configure_something</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.v2_2.cli</span> <span class="kn">import</span> <span class="n">configure_something</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">context</span> <span class="o">==</span> <span class="s1">&#39;YANG&#39;</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.generic</span> <span class="kn">import</span> <span class="n">configure_something</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">my_library.generic</span> <span class="kn">import</span> <span class="n">configure_something</span>

<span class="c1"># get result</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">configure_something</span><span class="p">()</span>

<span class="c1"># using abstraction &amp; properly abstracted libraries</span>
<span class="c1"># -------------------------------------------------</span>
<span class="kn">from</span> <span class="nn">genie</span> <span class="kn">import</span> <span class="n">abstract</span>

<span class="c1"># build a lookup object and pass the release/context as tokens</span>
<span class="n">lookup</span> <span class="o">=</span> <span class="n">abstract</span><span class="o">.</span><span class="n">Lookup</span><span class="p">(</span><span class="n">release</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="c1"># collect result by looking up the corresponding API</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">lookup</span><span class="o">.</span><span class="n">my_library</span><span class="o">.</span><span class="n">configure_something</span><span class="p">()</span>
</pre></div>
</div>
<p>As show above, through the use of <code class="docutils literal notranslate"><span class="pre">abstract</span></code> package, users can write
straightforward codes (single-source) that automatically invokes the right set
of library APIs (classes, functions, methods etc) based on given requirements,
without the repeated use of custom <code class="docutils literal notranslate"><span class="pre">if..elif..elif..else</span></code> statements
everywhere. This dynamic library referencing can be beneficial in many use
cases, including but not limited to:</p>
<blockquote>
<div><ul class="simple">
<li><p>handling minute release-to-release, image-to-image differences</p></li>
<li><p>running the same tests/scripts across different management interfaces:
CLI, YANG, XML</p></li>
<li><p>running the same tests/scripts across a variety of hardware (controllers,
linecards, interfaces, os/platforms, etc)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>Reach out to <a class="reference external" href="mailto:asg-genie-support&#37;&#52;&#48;cisco&#46;com">contact us</a> for any questions or issues related to the
<code class="docutils literal notranslate"><span class="pre">genie.abstract</span></code> package.</p>
<p>You can also post questions to the <a class="reference external" href="http://piestack.cisco.com">community forum</a> - the support team patrols
these forums daily.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="concept.html" class="btn btn-neutral float-right" title="Concept" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Library Abstraction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Cisco Systems Inc.
      <span class="lastupdated">
        Last updated on Dec 22, 2020.
      </span>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>